<!DOCTYPE html>
<html lang="ru" xml:lang="ru">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<title>Quadrate</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="description" content="Simple Stupid Little Game" />
<link rel="canonical" href="http://topcrust.ru/quadrate.html">

<style type="text/css">
* {
	margin: 0;
	padding: 0;
}

ul {
	border: 3px solid #fff;
	box-sizing: border-box;
	line-height: 0;
	list-style: none;
	margin: 0 auto;
	height: 500px;
	width: 500px;
	height: 100vh;
	width: 100vh;
}

@media screen and (orientation: portrait)  { ul {height: 100vw; width: 100vw;} }

li {
	background: red;
	border: 3px solid #fff;
	box-sizing: border-box;
	display: inline-block;
	height: 20%;
	width: 20%;
}

.true { background: blue; }
</style>

</head>
<body>

<ul></ul>

<script type="text/javascript">
;(function(){

var num = 11, html = '', ul = document.querySelector('ul');
for(; num < 56; num++) {
	html += '<li class="n' + num + ' ' + (Math.random()<0.5||'') + '">';
	if(!(num % 5)) num += 5;
}
ul.insertAdjacentHTML('beforeEnd', html);

ul.addEventListener('click', function(e) {
	var num = +e.target.className.slice(1,3);
	toggleColor(e.target);
	toggleColor(document.querySelector( '.n' + (num - 1) ));
	toggleColor(document.querySelector( '.n' + (num + 1) ));
	toggleColor(document.querySelector( '.n' + (num - 10) ));
	toggleColor(document.querySelector( '.n' + (num + 10) ));
}, false);

function toggleColor(el) { el && el.classList.toggle('true'); }

})();
</script>
</body>
</html>
